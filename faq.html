<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>LexAi – FAQ</title>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{ --brand-green:#00c2b5; --brand-teal:#00bfc7; --glass-bg:rgba(255,255,255,.35); --glass-blur:20px; --footer-bg:#0b0d19; }
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Poppins',sans-serif;color:#0b0d19;background:#f4f6f8}
main{padding-top:100px;max-width:1100px;margin:auto}
.hidden{display:none!important}

/* navbar (copied from trans.html) */
.glass{position:fixed;top:0;left:0;width:100%;z-index:999;display:flex;align-items:center;gap:1.4rem;padding:.8rem 4vw;background:var(--glass-bg);backdrop-filter:blur(var(--glass-blur))}
.brand{font:700 1.4rem/1 'Poppins';color:var(--brand-green);text-decoration:none}
.nav-links{list-style:none;display:flex;gap:2.4rem;margin-left:15rem}
.nav-item{color:#000;text-decoration:none;font-weight:500;transition:color .2s}
.nav-item:hover{color:var(--brand-teal)}
.nav-ctas{display:flex;align-items:center;gap:1.3rem;margin-left:auto}
.btn-cta{background:var(--brand-green);color:#fff;padding:.55rem 1.6rem;border-radius:25px;font-weight:600;font-size:.9rem;text-decoration:none}

/* sections */
.section{background:#fff;padding:2rem;border-radius:12px;margin:0 4vw 28px;box-shadow:0 4px 10px rgba(0,0,0,.05)}
.section h1{font-size:1.9rem;font-weight:700;margin-bottom:1rem}
.section h2{font-size:1.4rem;font-weight:700;margin-bottom:.8rem}
.section p{line-height:1.6}

/* ticket form */
.form-row{display:grid;gap:12px;margin-top:12px}
@media(min-width:680px){.form-row{grid-template-columns:1fr 1fr}}
label{font-weight:600}
input[type="text"],textarea,select{
  width:100%;padding:12px;border:2px solid #e5e7eb;border-radius:10px;
  font-size:.95rem;background:#f9fafb;color:#333
}
textarea{min-height:140px;resize:vertical}
button.primary{background:var(--brand-green);color:#fff;border:none;border-radius:45px;padding:12px 26px;font-weight:700;cursor:pointer}
button.primary:hover{opacity:.95;transform:translateY(-1px)}
.small{color:#5a6572;font-size:.92rem}

/* accordion */
.faq{margin-top:10px}
.faq details{background:#fbfcfd;border:1px solid #edf0f3;border-radius:10px;padding:14px 16px;margin-bottom:10px}
.faq summary{font-weight:600;cursor:pointer;list-style:none}
.faq summary::-webkit-details-marker{display:none}
.faq p{margin-top:10px}

/* footer (light) */
.site-footer{background:var(--footer-bg);color:#d1d1d1;padding:2rem;margin-top:40px}
.footer-bottom{max-width:1100px;margin:auto;display:flex;justify-content:space-between;flex-wrap:wrap;gap:1rem;font-size:.9rem}
</style>
</head>
<body>

<nav class="glass">
  <a href="index.html" class="brand">LexAi</a>
  <ul class="nav-links">
    <li><a href="index.html" class="nav-item">Home</a></li>
    <li><a href="index.html#features" class="nav-item">Features</a></li>
    <li><a href="about.html" class="nav-item">About</a></li>
    <li><a href="faq.html" class="nav-item" style="color:var(--brand-teal)">FAQ</a></li>
  </ul>
  <div class="nav-ctas">
    <a id="appCta" href="#" class="btn-cta">Open App</a>
  </div>
</nav>

<main>
  <!-- TICKETS -->
  <section class="section">
    <h1>FAQs & Support</h1>
    <p class="small">Can’t find an answer? Send us a ticket below — it goes straight to our team.</p>
    <div class="form-row" style="margin-top:16px">
      <div>
        <label for="ticketSubject">Subject</label>
        <input id="ticketSubject" type="text" maxlength="120" placeholder="Short summary (e.g., Quota question)">
      </div>
      <div>
        <label for="ticketType">Category</label>
        <select id="ticketType">
          <option>General</option>
          <option>Bug report</option>
          <option>Feature request</option>
          <option>Account</option>
        </select>
      </div>
    </div>
    <div class="form-row" style="grid-template-columns:1fr">
      <div>
        <label for="ticketMsg">Message</label>
        <textarea id="ticketMsg" maxlength="4000" placeholder="Describe the issue or question…"></textarea>
      </div>
    </div>
    <div style="margin-top:12px;display:flex;gap:12px;align-items:center">
      <button id="ticketSend" class="primary">Submit Ticket</button>
      <span id="ticketHint" class="small">You need to be signed in to submit a ticket.</span>
    </div>
  </section>

  <!-- FAQS -->
  <section class="section">
    <h1>Common questions</h1>
    <div class="faq" id="faqList">
      <!-- Injected by script -->
    </div>
  </section>
</main>

<footer class="site-footer">
  <div class="footer-bottom">
    <p>© 2025 LexAi. All rights reserved.</p>
    <p><a href="mailto:lexai.reset@gmail.com" style="color:#d1d1d1;text-decoration:none">lexai.reset@gmail.com</a></p>
  </div>
</footer>

<script>
(function(){
  const BE = "https://api.lexai.work";
  const token = localStorage.getItem("lexai_token") || "";

  // Submit ticket
  const sendBtn = document.getElementById("ticketSend");
  const hint    = document.getElementById("ticketHint");
  if (token) hint.textContent = "Signed in — your message will include your account email.";

  sendBtn.onclick = async () => {
    const subject = document.getElementById("ticketSubject").value.trim();
    const type    = document.getElementById("ticketType").value;
    const msg     = document.getElementById("ticketMsg").value.trim();
    if (!token){ alert("Please log in first."); return; }
    if (subject.length < 4 || msg.length < 10){
      alert("Please write a clear subject and a longer message."); return;
    }
    sendBtn.disabled = true; sendBtn.textContent = "Sending…";
    try{
      const r = await fetch(BE + "/support/ticket", {
        method: "POST",
        headers: { "Content-Type":"application/json", "Authorization":"Bearer " + token },
        body: JSON.stringify({ subject: `[${type}] ${subject}`, message: msg })
      });
      if (!r.ok) throw 0;
      alert("Thanks! Your ticket has been sent.");
      document.getElementById("ticketSubject").value="";
      document.getElementById("ticketMsg").value="";
    }catch{
      alert("Could not send ticket. Please try again later.");
    }finally{
      sendBtn.disabled = false; sendBtn.textContent = "Submit Ticket";
    }
  };

  // FAQ data (updated & merged from your earlier list)
  const faqs = [
    {q:"What is LexAi in one sentence?", a:"LexAi turns rough marketing copy into high-performing taglines: GPT refines in English, then DeepL translates to your chosen language."},
    {q:"How do I translate my first tagline?", a:"Paste your line, pick a target language, then click Get Translation. Rate the result Good/Bad to teach LexAi your taste."},
    {q:"When should I use Rephrase instead of Translate?", a:"Use Rephrase for a fresher English version; use Translate to produce another language."},
    {q:"What does the Good button do?", a:"It stores an example so future results learn your style. It also enables optional alternatives for A/B testing."},
    {q:"What does the Bad button do?", a:"You’ll be asked for a short reason; we regenerate a better English line that respects your critique before translating again."},
    {q:"Can I upload a PDF or image?", a:"Yes — up to 5 MB. We extract the text so you can Translate or Rephrase it."},
    {q:"Which languages are supported?", a:"30+ languages. The full list appears in the language picker on the app page."},
    {q:"Which models are available?", a:"You can choose GPT-4o mini (fast, economical) or GPT-4o (higher quality). Your choice also applies to Regenerate and Alternatives."},
    {q:"What’s my daily quota?", a:"Your per-day character cap adjusts by traffic and never exceeds 10,000. The quota resets at midnight U.S. Eastern time (ET)."},
    {q:"How is usage counted?", a:"We count characters for the English rewrite plus the final translation, only on success."},
    {q:"Do unused quota amounts roll over?", a:"No. Daily quotas reset each midnight ET to keep service fair."},
    {q:"Can other users see my data?", a:"No. Your prompts and results are tied to your account and not visible to others."},
    {q:"How do I download or clear my feedback?", a:"Use the Download Excel and Clear Feedbacks buttons under the Feedback table. Clearing feedback does not affect your quota."},
    {q:"Does LexAi allow emojis or hashtags?", a:"No — we intentionally avoid emojis, puns and hashtags for broad cultural fit."},
    {q:"Is there an API?", a:"Coming soon. For now, use the web UI."},
    {q:"I forgot my password — what now?", a:"Click “Forgot password?” on the login page, enter your email, paste the 6-digit code, and set a new password."},
    {q:"How do I delete my account/data?", a:"Email lexai.reset@gmail.com from your registered address and we’ll wipe your data."},
    {q:"Which browsers are supported?", a:"Latest Chrome and Edge; Safari on iOS also works well."}
  ];

  // Render as accordions
  const list = document.getElementById("faqList");
  faqs.forEach(({q,a})=>{
    const el = document.createElement("details");
    const sum = document.createElement("summary");
    sum.textContent = q;
    const p = document.createElement("p");
    p.innerHTML = a;
    el.appendChild(sum); el.appendChild(p);
    list.appendChild(el);
  });

  (async function setCta(){
    const cta = document.getElementById("appCta");
    if (!cta) return;
    const apex = "https://lexai.work";
    // default: sign-in
    cta.textContent = "Sign in to App";
    cta.href = `${apex}/login.html`;
    if (!token) return;
    try{
      const r = await fetch(BE + "/me", { headers:{ Authorization:"Bearer " + token } });
      if (r.ok) {
        cta.textContent = "Open App";
        cta.href = `${apex}/trans.html`;
      } else if (r.status === 401 || r.status === 403) {
        localStorage.removeItem("lexai_token");
        localStorage.removeItem("lexai_uid");
      }
    }catch{/* stay on sign-in */}
  })();

})();
</script>
</body>
</html>
